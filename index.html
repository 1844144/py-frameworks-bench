<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Python's Web Framework Benchmarks</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.2.0/jquery.bootgrid.min.css" media="screen">

    <style type="text/css" media="screen">
        .chart {
            width: 100%;
            height: 400px;
            margin: 3em 0 1.5em;
        }
        table {
            font-size: .9rem !important;
        }
    </style>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Python's Web Framework Benchmarks</h1>
      <h2 class="project-tagline">There are some benchmarks for popular python frameworks</h2>
      <a href="https://github.com/klen/py-frameworks-bench" class="btn">View on GitHub</a>
      <a href="#methodic" class="btn">View methodic</a>
      <a href="#results" class="btn">View latests results</a>
      <!-- <a href="https://github.com/klen/py-frameworks-bench/tarball/master" class="btn">Download .tar.gz</a> -->
    </section>

    <section class="main-content">
        <h3>The Participants</h3>

        <ul>
            <li><a href="https://github.com/KeepSafe/aiohttp">Aiohttp</a>
                <b>0.15.3</b> — http client/server for Asyncio.</li>
            <li><a href="https://github.com/bottlepy/bottle">Bottle</a>  
                <b> 0.12.8 </b> — Fast, simple and lightweight WSGI micro web-framework</li>
            <li><a href="https://github.com/django/django">Django</a>     
                <b> 1.8.1 </b> — The Web framework for perfectionists with deadlines</li>
            <li><a href="https://github.com/falconry/falcon">Falcon</a>   
                <b> 0.2 </b> — A high-performance Python framework for building cloud APIs</li>
            <li><a href="https://github.com/mitsuhiko/flask">Flask</a>    
                <b> 0.10.1 </b> — A microframework based on Werkzeug, Jinja2 and good intentions</li>
            <li><a href="https://github.com/klen/muffin">Muffin</a>       
                <b> 0.0.78 </b> — A web-framework based on Asyncio stack</li>
            <li><a href="https://github.com/Pylons/pyramid">Pyramid</a>   
                <b> 1.5.7 </b> — A small, fast, down-to-earth, open source Python web framework</li>
            <li><a href="https://github.com/tornadoweb/tornado">Tornado</a>
                <b> 4.1 </b> — A Python web framework and asynchronous networking library</li>
        </ul>

        <p>The objective of the benchmark is not testing deployment (like uwsgi vs gunicorn and etc)
            but instead test the frameworks itself.</p>

        <h3 id="methodic">The Methodic</h3>

        <p>Results bellow were received with <a href="http://aws.amazon.com/ec2/instance-types/">Amazon EC2 t2.medium server</a>.
        I've used a <a href="https://github.com/wg/wrk">WRK</a> utility with params:
        </p>

        <pre><code>$ wrk -d30s -t12 -c400 [URL]</code></pre>

        <p>Most of the frameworks (except Tornado) were running from <a href="http://gunicorn.org/">Gunicorn HTTP Server</a> with 2 workers
        and <a href="http://meinheld.org/">Meinheld</a> worker class for WSGI applications. Example:
        </p>

        <pre><code>$ gunicorn [APP] --workers=2 --worker-class=meinheld.gmeinheld.MeinheldWorker</code></pre>

        <p>The sources of the applications for tests can be found at <a href="https://github.com/klen/py-frameworks-bench/tree/develop/frameworks">here</a>. </p>

        <p>The benchmark has a three kind of tests:</p>
        <ol>
            <li><a href="#json">JSON</a> test. Serialize a object to JSON and return `application/json` response.</li>
            <li><a href="#remote">Remote</a> test. Load and return http response from a remote server.</li>
            <li><a href="#complete">Complete</a> test. Load some data from DB using ORM, insert a new object, sort and render to template.</li>
        </ol>

        <h3 id="results">The Results</h3>

        <div id="json" class="chart"></div>
        <table class="table table-stripped table-condensed">
            <thead>
                <tr>
                    <th data-column-id="name">Name</th>
                    <th data-column-id="p50" data-type="numeric">50% (ms)</th>
                    <th data-column-id="p75" data-type="numeric">75% (ms)</th>
                    <th data-column-id="avg" data-type="numeric">Avg (ms)</th>
                    <th data-column-id="req" data-type="numeric" data-order="desc">Req/s</th>
                    <th data-column-id="errors">Non 200-x</th>
                    <th data-column-id="timeouts">Timeouts</th>
                </tr>
            </thead>
            <tbody>
                <tr> <td>Aiohttp</td> <td>95.93</td>   <td>101.62</td>  <td>99.17</td>  <td>4020.80</td>     <td></td> <td>101</td> </tr>
                <tr> <td>Bottle</td>  <td>23.79</td>   <td>27.63</td>   <td>24.69</td>  <td>15858.44</td>    <td></td> <td></td>   </tr>
                <tr> <td>Django</td>  <td>105.80</td>  <td>110.94</td>  <td>104.68</td> <td>3683.32</td>     <td></td> <td></td>   </tr>
                <tr> <td>Falcon</td>  <td>19.04</td>   <td>22.32</td>   <td>19.56</td>  <td>20125.61</td>    <td></td> <td></td>   </tr>
                <tr> <td>Flask</td>   <td>61.01</td>   <td>72.56</td>   <td>64.56</td>  <td>6095.11</td>     <td></td> <td></td>   </tr>
                <tr> <td>Muffin</td>  <td>106.86</td>  <td>114.35</td>  <td>109.20</td> <td>3591.29</td>     <td></td> <td>61</td> </tr>
                <tr> <td>Pyramid</td> <td>41.58</td>   <td>42.85</td>   <td>41.46</td>  <td>9481.59</td>     <td></td> <td></td>   </tr>
                <tr> <td>Tornado</td> <td>116.35</td>  <td>167.58</td>  <td>138.26</td> <td>2807.59</td>     <td></td> <td></td>   </tr>
            </tbody>
        </table>

        <div id="remote" class="chart"></div>
        <table class="table table-stripped">
            <thead>
                <tr>
                    <th data-column-id="name">Name</th>
                    <th data-column-id="p50" data-type="numeric">50% (ms)</th>
                    <th data-column-id="p75" data-type="numeric">75% (ms)</th>
                    <th data-column-id="avg" data-type="numeric">Avg (ms)</th>
                    <th data-column-id="req" data-type="numeric" data-order="desc">Req/s</th>
                    <th data-column-id="errors">Non 200-x</th>
                    <th data-column-id="timeouts">Timeouts</th>
                </tr>
            </thead>
            <tbody>
                <tr> <td>Aiohttp</td> <td>358.03</td>  <td>368.94</td>  <td>342.82</td>  <td>1125.53</td> <td></td> <td></td>     </tr>
                <tr> <td>Bottle</td>  <td>1646.34</td> <td>1648.06</td> <td>1479.78</td> <td>19.36</td>   <td></td> <td>797</td>  </tr>
                <tr> <td>Django</td>  <td>1654.80</td> <td>1656.25</td> <td>1469.92</td> <td>19.29</td>   <td></td> <td>901</td>  </tr>
                <tr> <td>Falcon</td>  <td>1644.82</td> <td>1646.87</td> <td>1437.65</td> <td>19.43</td>   <td></td> <td>657</td>  </tr>
                <tr> <td>Flask</td>   <td>1650.59</td> <td>1653.44</td> <td>1481.78</td> <td>19.36</td>   <td></td> <td>866</td>  </tr>
                <tr> <td>Muffin</td>  <td>381.77</td>  <td>406.50</td>  <td>368.73</td>  <td>1025.49</td> <td></td> <td></td>     </tr>
                <tr> <td>Pyramid</td> <td>1645.31</td> <td>1648.94</td> <td>1446.80</td> <td>19.42</td>   <td></td> <td>772</td>  </tr>
                <tr> <td>Tornado</td> <td>1932.84</td> <td>1942.36</td> <td>1769.10</td> <td>193.99</td>  <td></td> <td>2662</td> </tr>
            </tbody>
        </table>

        <div id="complete" class="chart"></div>
        <table class="table table-stripped">
            <thead>
                <tr>
                    <th data-column-id="name">Name</th>
                    <th data-column-id="p50" data-type="numeric">50% (ms)</th>
                    <th data-column-id="p75" data-type="numeric">75% (ms)</th>
                    <th data-column-id="avg" data-type="numeric">Avg (ms)</th>
                    <th data-column-id="req" data-type="numeric" data-order="desc">Req/s</th>
                    <th data-column-id="errors">Non 2xx</th>
                    <th data-column-id="timeouts">Timeouts</th>
                </tr>
            </thead>
            <tbody>
                <tr> <td>Aiohttp</td> <td>153.35</td>  <td>158.37</td>  <td>113.74</td>  <td>995.38</td>  <td>67%</td> <td>237</td> </tr>
                <tr> <td>Bottle</td>  <td>923.08</td>  <td>969.58</td>  <td>780.82</td>  <td>296.38</td>  <td></td>    <td>449</td> </tr>
                <tr> <td>Django</td>  <td>1460.71</td> <td>1732.81</td> <td>1366.38</td> <td>87.64</td>   <td></td>    <td>825</td> </tr>
                <tr> <td>Falcon</td>  <td>747.41</td>  <td>860.04</td>  <td>650.01</td>  <td>333.09</td>  <td></td>    <td>743</td> </tr>
                <tr> <td>Flask</td>   <td>700.98</td>  <td>733.97</td>  <td>750.68</td>  <td>310.28</td>  <td></td>    <td>454</td> </tr>
                <tr> <td>Muffin</td>  <td>380.69</td>  <td>468.34</td>  <td>361.35</td>  <td>818.36</td>  <td></td>    <td>263</td> </tr>
                <tr> <td>Pyramid</td> <td>989.03</td>  <td>1097.53</td> <td>828.26</td>  <td>245.37</td>  <td></td>    <td>623</td> </tr>
                <tr> <td>Tornado</td> <td>893.83</td>  <td>905.84</td>  <td>852.61</td>  <td>441.88</td>  <td></td>    <td></td>    </tr>
            </tbody>
        </table>

        <h3 id="archive">Conclusion</h3>

        <p>Nothing here, just some measures for you.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/klen/py-frameworks-bench">Py-frameworks-bench</a> is maintained by <a href="https://github.com/klen">Kirill Klenov</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/4.1.5/highcharts.js"></script>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.2.0/jquery.bootgrid.min.js"></script>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.2.0/jquery.bootgrid.fa.min.js"></script>
        <script language="javascript" type="text/javascript">
            $(function () { 

                var data = {
                    "pyramid": [[1.72, 41.58, 42.85, 44.19, 46.72, 205.9, 391.68, 41.46, 30.04, 284827.0, 0.0, 0.0, 0.0], [123.41, 1645.31, 1648.94, 1651.81, 1668.33, 1668.83, 1668.83, 1446.8, 30.06, 584.0, 0.0, 308.0, 464.0], [6.39, 989.03, 1097.53, 1145.18, 1703.64, 1980.46, 1999.91, 828.26, 30.08, 7381.0, 0.0, 245.0, 378.0]],
                    "aiohttp": [[2.12, 95.93, 101.62, 106.88, 209.83, 1391.84, 1989.1, 99.17, 30.1, 121026.0, 0.0, 0.0, 101.0], [101.34, 358.03, 368.94, 379.82, 416.93, 1278.63, 1615.27, 342.82, 30.04, 33811.0, 0.0, 0.0, 0.0], [1.8, 153.35, 158.37, 162.41, 361.11, 1468.36, 1902.65, 113.74, 30.06, 29921.0, 20158.0, 188.0, 49.0]],
                    "flask": [[1.18, 61.0, 72.56, 74.83, 78.24, 225.32, 413.03, 64.56, 30.09, 183402.0, 0.0, 0.0, 0.0], [121.02, 1650.59, 1653.44, 1655.53, 1671.64, 1673.45, 1673.45, 1481.78, 30.06, 582.0, 0.0, 426.0, 440.0], [49.62, 700.98, 733.97, 1538.53, 1575.15, 1584.83, 1630.7, 750.68, 30.05, 9324.0, 0.0, 58.0, 396.0]],
                    "muffin": [[3.12, 106.86, 114.35, 118.47, 198.69, 1387.31, 1988.19, 109.2, 30.09, 108062.0, 0.0, 0.0, 117.0], [101.77, 381.77, 406.5, 428.92, 455.05, 791.12, 929.36, 368.73, 30.05, 30816.0, 0.0, 0.0, 0.0], [10.87, 380.69, 468.34, 487.03, 499.43, 1562.28, 1993.55, 361.35, 30.07, 24608.0, 0.0, 0.0, 263.0]],
                    "django": [[8.15, 105.8, 110.94, 113.19, 116.2, 430.19, 713.82, 104.68, 30.04, 110647.0, 0.0, 0.0, 0.0], [124.95, 1654.8, 1656.25, 1658.46, 1676.69, 1677.18, 1677.18, 1469.92, 30.06, 580.0, 0.0, 455.0, 446.0], [160.16, 1460.71, 1732.81, 1905.81, 1978.75, 1996.39, 1998.5, 1366.38, 30.1, 2638.0, 0.0, 285.0, 540.0]],
                    "tornado": [[1.9, 116.35, 167.58, 191.62, 201.84, 237.31, 255.54, 138.26, 30.04, 84340.0, 0.0, 0.0, 0.0], [184.54, 1932.84, 1942.36, 1951.23, 1963.84, 1971.73, 1993.27, 1769.1, 30.06, 5831.0, 0.0, 0.0, 2662.0], [18.2, 893.83, 905.84, 917.97, 937.72, 945.14, 1022.3, 852.61, 30.06, 13283.0, 0.0, 0.0, 0.0]],
                    "bottle": [[0.34, 23.79, 27.63, 28.55, 30.46, 67.03, 279.45, 24.69, 30.05, 476546.0, 0.0, 0.0, 0.0], [121.11, 1646.34, 1648.06, 1649.31, 1667.45, 1667.45, 1667.45, 1479.78, 30.06, 582.0, 0.0, 359.0, 438.0], [41.54, 923.08, 969.58, 1003.73, 1809.25, 1977.7, 1996.33, 780.82, 30.1, 8921.0, 0.0, 179.0, 270.0]],
                    "falcon": [[0.56, 19.04, 22.32, 23.08, 24.15, 47.05, 242.92, 19.56, 30.03, 604372.0, 0.0, 0.0, 0.0], [119.74, 1644.82, 1646.87, 1648.44, 1664.97, 1665.03, 1665.03, 1437.65, 30.06, 584.0, 0.0, 192.0, 465.0], [28.77, 745.41, 860.04, 900.36, 1655.77, 1867.21, 1974.49, 650.01, 30.1, 10026.0, 0.0, 411.0, 332.0]]
                };

                var frameworks = [
                    'aiohttp',
                    'bottle',
                    'django',
                    'falcon',
                    'flask',
                    'muffin',
                    'pyramid',
                    'tornado',
                ],
                    categories = ["min", "50%", "75%", "90%", "99.9%", "max"],
                    series = [],
                    common_options = {
                        xAxis: {
                            categories: categories,
                            startOnTick: true
                        },
                        yAxis: {
                            title: { text: 'Values (ms)' },
                            min: 0
                        },
                        tooltip: {
                            valueSuffix: 'ms'
                        },
                        legend: {
                            layout: 'vertical',
                            align: 'right',
                            verticalAlign: 'middle',
                            borderWidth: 0
                        },
                        chart: {
                            zoomType: 'y',
                            type: 'spline'
                        }
                    };

                for (i in [0, 1, 2]) {
                    var cur = series[i] = [], pie = {
                        name: 'mid', type: 'pie', dataLabels: { enabled: true, format: '{point.name} {point.y:.2f} ms'},
                        data: [], center: [100, 80], size: 100};

                    for (n in data) {
                        if (data[n][i] instanceof Array) {
                            pie.data.push({name: n, y: data[n][i][2]})
                            cur.push({
                                name: n,
                                data: data[n][i].slice(0, 4)
                            });
                        }
                    };
                    cur.push(pie);
                };

                $('#json').highcharts($.extend({
                    title: { text: 'Encode a object to JSON and return as response' },
                    subtitle: { text: 'lower is better' },
                    series: series[0]}, common_options));

                $('#remote').highcharts($.extend({
                    title: { text: 'Load a response from remote server and return as response' },
                    subtitle: { text: 'lower is better' },
                    series: series[1]}, common_options));

                $('#complete').highcharts($.extend({
                    title: { text: 'Load data from database with ORM and render to template' },
                    subtitle: { text: 'lower is better' },
                    series: series[2]}, common_options));

                $('table').bootgrid({ navigation: 0 });

            });
        </script>
  </body>
</html>

