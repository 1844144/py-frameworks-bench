<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Python's Web Framework Benchmarks</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.2.0/jquery.bootgrid.min.css" media="screen">

    <style type="text/css" media="screen">
        .chart {
            width: 100%;
            height: 400px;
            margin: 3em 0 1.5em;
        }
        table {
            font-size: .9rem !important;
        }
    </style>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Python's Web Framework Benchmarks</h1>
      <h2 class="project-tagline">There are some benchmarks for popular python frameworks</h2>
      <a href="https://github.com/klen/py-frameworks-bench" class="btn">View on GitHub</a>
      <a href="#methodic" class="btn">View methodic</a>
      <a href="#results" class="btn">View latests results</a>
      <!-- <a href="https://github.com/klen/py-frameworks-bench/tarball/master" class="btn">Download .tar.gz</a> -->
    </section>

    <section class="main-content">
        <h3>The Participants</h3>

        <ul>
            <li><a href="https://github.com/KeepSafe/aiohttp">Aiohttp</a>
                <b>0.15.3</b> — http client/server for Asyncio.</li>
            <li><a href="https://github.com/bottlepy/bottle">Bottle</a>  
                <b> 0.12.8 </b> — Fast, simple and lightweight WSGI micro web-framework</li>
            <li><a href="https://github.com/django/django">Django</a>     
                <b> 1.8.1 </b> — The Web framework for perfectionists with deadlines</li>
            <li><a href="https://github.com/falconry/falcon">Falcon</a>   
                <b> 0.2 </b> — A high-performance Python framework for building cloud APIs</li>
            <li><a href="https://github.com/mitsuhiko/flask">Flask</a>    
                <b> 0.10.1 </b> — A microframework based on Werkzeug, Jinja2 and good intentions</li>
            <li><a href="https://github.com/klen/muffin">Muffin</a>       
                <b> 0.0.78 </b> — A web-framework based on Asyncio stack</li>
            <li><a href="https://github.com/Pylons/pyramid">Pyramid</a>   
                <b> 1.5.7 </b> — A small, fast, down-to-earth, open source Python web framework</li>
            <li><a href="https://github.com/tornadoweb/tornado">Tornado</a>
                <b> 4.1 </b> — A Python web framework and asynchronous networking library</li>
        </ul>

        <p>The objective of the benchmark is not testing deployment (like uwsgi vs gunicorn and etc)
            but instead test the frameworks itself.</p>

        <h3 id="methodic">The Methodic</h3>

        <p>Results bellow were received with <a href="http://aws.amazon.com/ec2/instance-types/">Amazon EC2 t2.medium server</a>.
        I've used a <a href="https://github.com/wg/wrk">WRK</a> utility with params:
        </p>

        <pre><code>$ wrk -d30s -t12 -c400 [URL]</code></pre>

        <p>Most of the frameworks (except Tornado) were running from <a href="http://gunicorn.org/">Gunicorn HTTP Server</a> with 2 workers
        and <a href="http://meinheld.org/">Meinheld</a> worker class for WSGI applications. Example:
        </p>

        <pre><code>$ gunicorn [APP] --workers=2 --worker-class=meinheld.gmeinheld.MeinheldWorker</code></pre>

        <p>The sources of the applications for tests can be found at <a href="https://github.com/klen/py-frameworks-bench/tree/develop/frameworks">here</a>. </p>

        <p>The benchmark has a three kind of tests:</p>
        <ol>
            <li><a href="#json">JSON</a> test. Serialize a object to JSON and return `application/json` response.</li>
            <li><a href="#remote">Remote</a> test. Load and return http response from a remote server.</li>
            <li><a href="#complete">Complete</a> test. Load some data from DB using ORM, insert a new object, sort and render to template.</li>
        </ol>

        <h3 id="results">The Results</h3>

        <div id="json" class="chart"></div>
        <table class="table table-stripped table-condensed">
            <thead>
                <tr>
                    <th data-column-id="name">Name</th>
                    <th data-column-id="p50" data-type="numeric">50% (ms)</th>
                    <th data-column-id="p75" data-type="numeric">75% (ms)</th>
                    <th data-column-id="avg" data-type="numeric">Avg (ms)</th>
                    <th data-column-id="req" data-type="numeric" data-order="desc">Req/s</th>
                    <th data-column-id="errors">Non 200-x</th>
                    <th data-column-id="timeouts">Timeouts</th>
                </tr>
            </thead>
            <tbody>
                <tr> <td>Aiohttp</td> <td>92.90</td>  <td>96.67</td>  <td>94.88</td>  <td>4235.28</td>  <td></td> <td>98</td> </tr>
                <tr> <td>Bottle</td>  <td>24.10</td>  <td>25.51</td>  <td>24.17</td>  <td>16266.34</td> <td></td> <td></td>   </tr>
                <tr> <td>Django</td>  <td>99.75</td>  <td>113.04</td> <td>105.42</td> <td>3763.77</td>  <td></td> <td></td>   </tr>
                <tr> <td>Falcon</td>  <td>19.07</td>  <td>19.93</td>  <td>19.16</td>  <td>20685.48</td> <td></td> <td></td>   </tr>
                <tr> <td>Flask</td>   <td>61.10</td>  <td>70.83</td>  <td>64.93</td>  <td>6097.67</td>  <td></td> <td></td>   </tr>
                <tr> <td>Muffin</td>  <td>91.75</td>  <td>101.24</td> <td>98.43</td>  <td>4127.16</td>  <td></td> <td>61</td> </tr>
                <tr> <td>Pyramid</td> <td>40.05</td>  <td>43.75</td>  <td>39.67</td>  <td>9910.37</td>  <td></td> <td></td>   </tr>
                <tr> <td>Tornado</td> <td>121.01</td> <td>151.96</td> <td>130.56</td> <td>2899.90</td>  <td></td> <td></td>   </tr>
            </tbody>
        </table>

        <div id="remote" class="chart"></div>
        <table class="table table-stripped">
            <thead>
                <tr>
                    <th data-column-id="name">Name</th>
                    <th data-column-id="p50" data-type="numeric">50% (ms)</th>
                    <th data-column-id="p75" data-type="numeric">75% (ms)</th>
                    <th data-column-id="avg" data-type="numeric">Avg (ms)</th>
                    <th data-column-id="req" data-type="numeric" data-order="desc">Req/s</th>
                    <th data-column-id="errors">Non 200-x</th>
                    <th data-column-id="timeouts">Timeouts</th>
                </tr>
            </thead>
            <tbody>
                <tr> <td>Aiohttp</td> <td>343.70</td>  <td>356.05</td>  <td>323.99</td>  <td>1156.32</td> <td></td> <td></td>     </tr>
                <tr> <td>Bottle</td>  <td>1639.89</td> <td>1642.69</td> <td>1473.62</td> <td>19.43</td>   <td></td> <td>800</td>  </tr>
                <tr> <td>Django</td>  <td>1647.93</td> <td>1650.09</td> <td>1455.32</td> <td>19.36</td>   <td></td> <td>785</td>  </tr>
                <tr> <td>Falcon</td>  <td>1642.57</td> <td>1674.20</td> <td>1456.18</td> <td>19.30</td>   <td></td> <td>767</td>  </tr>
                <tr> <td>Flask</td>   <td>1646.95</td> <td>1649.42</td> <td>1450.85</td> <td>19.36</td>   <td></td> <td>738</td>  </tr>
                <tr> <td>Muffin</td>  <td>355.36</td>  <td>368.17</td>  <td>340.71</td>  <td>1133.62</td> <td></td> <td></td>     </tr>
                <tr> <td>Pyramid</td> <td>1640.35</td> <td>1644.13</td> <td>1452.53</td> <td>19.42</td>   <td></td> <td>756</td>  </tr>
                <tr> <td>Tornado</td> <td>1716.26</td> <td>1727.91</td> <td>1601.04</td> <td>194.61</td>  <td></td> <td>2636</td> </tr>
            </tbody>
        </table>

        <div id="complete" class="chart"></div>
        <table class="table table-stripped">
            <thead>
                <tr>
                    <th data-column-id="name">Name</th>
                    <th data-column-id="p50" data-type="numeric">50% (ms)</th>
                    <th data-column-id="p75" data-type="numeric">75% (ms)</th>
                    <th data-column-id="avg" data-type="numeric">Avg (ms)</th>
                    <th data-column-id="req" data-type="numeric" data-order="desc">Req/s</th>
                    <th data-column-id="errors">Non 2xx</th>
                    <th data-column-id="timeouts">Timeouts</th>
                </tr>
            </thead>
            <tbody>
                <tr> <td>Aiohttp</td> <td>147.40</td>  <td>151.73</td>  <td>111.23</td>  <td>1036.57</td> <td>67%</td> <td>276</td> </tr>
                <tr> <td>Bottle</td>  <td>103.23</td>  <td>142.61</td>  <td>115.15</td>  <td>7.75</td>    <td></td>    <td>218</td> </tr>
                <tr> <td>Django</td>  <td>1346.33</td> <td>1712.31</td> <td>1290.80</td> <td>117.06</td>  <td></td>    <td>852</td> </tr>
                <tr> <td>Falcon</td>  <td>80.02</td>   <td>149.14</td>  <td>125.07</td>  <td>7.29</td>    <td></td>    <td>408</td> </tr>
                <tr> <td>Flask</td>   <td>1156.31</td> <td>1355.03</td> <td>968.30</td>  <td>248.42</td>  <td></td>    <td>795</td> </tr>
                <tr> <td>Muffin</td>  <td>372.68</td>  <td>449.60</td>  <td>348.46</td>  <td>842.23</td>  <td></td>    <td>253</td> </tr>
                <tr> <td>Pyramid</td> <td>109.30</td>  <td>161.12</td>  <td>124.67</td>  <td>7.39</td>    <td></td>    <td>326</td> </tr>
                <tr> <td>Tornado</td> <td>298.63</td>  <td>313.20</td>  <td>240.30</td>  <td>7.45</td>    <td></td>    <td></td>    </tr>
            </tbody>
        </table>

        <h3 id="archive">Conclusion</h3>

        <p>Nothing here, just some measures for you.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/klen/py-frameworks-bench">Py-frameworks-bench</a> is maintained by <a href="https://github.com/klen">Kirill Klenov</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/4.1.5/highcharts.js"></script>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.2.0/jquery.bootgrid.min.js"></script>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-bootgrid/1.2.0/jquery.bootgrid.fa.min.js"></script>
        <script language="javascript" type="text/javascript">
            $(function () { 

                var data = {
                    "pyramid": [[1.17, 40.05, 43.75, 46.09, 50.19, 171.3, 310.31, 39.67, 30.04, 297708.0, 0.0, 0.0, 0.0], [122.82, 1640.35, 1644.13, 1649.68, 1660.44, 1660.46, 1660.46, 1452.53, 30.07, 584.0, 0.0, 302.0, 454.0], [39.79, 109.3, 161.12, 212.28, 260.21, 264.44, 264.44, 124.67, 30.05, 222.0, 0.0, 244.0, 82.0]],
                    "aiohttp": [[2.4, 92.9, 96.67, 100.32, 228.28, 1411.91, 1997.73, 94.88, 30.1, 127482.0, 0.0, 0.0, 98.0], [102.62, 343.7, 356.05, 367.48, 394.67, 542.72, 752.99, 323.99, 30.04, 34736.0, 0.0, 0.0, 0.0], [2.57, 147.4, 151.73, 155.01, 357.04, 1640.0, 1920.56, 111.23, 30.05, 31149.0, 20992.0, 226.0, 50.0]],
                    "flask": [[0.89, 61.1, 70.83, 72.08, 74.97, 320.79, 573.95, 64.93, 30.05, 183235.0, 0.0, 0.0, 0.0], [122.93, 1646.95, 1649.42, 1653.34, 1671.44, 1672.8, 1672.8, 1450.85, 30.06, 582.0, 0.0, 282.0, 456.0], [58.86, 1156.31, 1355.03, 1418.62, 1462.87, 1917.96, 1938.61, 968.3, 30.05, 7465.0, 0.0, 298.0, 497.0]],
                    "muffin": [[1.05, 91.75, 101.24, 103.57, 229.18, 1347.4, 1992.17, 98.43, 30.08, 124145.0, 0.0, 0.0, 61.0], [108.4, 355.36, 368.17, 381.65, 406.8, 1024.86, 1301.13, 340.71, 30.04, 34054.0, 0.0, 0.0, 0.0], [9.63, 372.68, 449.6, 462.55, 478.46, 1469.02, 1968.95, 348.46, 30.05, 25910.0, 0.0, 0.0, 253.0]],
                    "django": [[8.15, 99.75, 113.04, 114.28, 152.64, 884.2, 1204.25, 105.42, 30.03, 113026.0, 0.0, 0.0, 0.0], [120.44, 1647.93, 1650.09, 1651.71, 1667.46, 1668.47, 1668.47, 1455.32, 30.06, 582.0, 0.0, 335.0, 450.0], [100.6, 1346.33, 1712.31, 1786.34, 1928.25, 1997.38, 1997.63, 1290.8, 30.07, 3520.0, 0.0, 279.0, 573.0]],
                    "tornado": [[5.12, 121.01, 151.96, 163.41, 176.92, 186.33, 251.06, 130.56, 30.06, 87171.0, 0.0, 0.0, 0.0], [184.74, 1716.26, 1727.91, 1734.04, 1897.46, 1977.98, 1992.83, 1607.04, 30.05, 5848.0, 0.0, 0.0, 2636.0], [14.17, 298.63, 313.2, 326.15, 337.36, 341.6, 341.6, 240.3, 30.06, 224.0, 0.0, 0.0, 0.0]],
                    "bottle": [[0.28, 24.1, 25.51, 26.44, 28.21, 139.93, 284.08, 24.17, 30.04, 488641.0, 0.0, 0.0, 0.0], [119.4, 1639.89, 1642.69, 1644.39, 1657.94, 1657.95, 1657.95, 1473.62, 30.06, 584.0, 0.0, 360.0, 440.0], [45.91, 103.23, 142.61, 189.6, 244.82, 244.9, 244.9, 115.15, 30.05, 233.0, 0.0, 134.0, 84.0]],
                    "falcon": [[0.15, 19.07, 19.93, 20.36, 21.42, 131.89, 283.32, 19.16, 30.09, 622426.0, 0.0, 0.0, 0.0], [124.8, 1642.57, 1674.2, 1680.32, 1683.8, 1683.98, 1683.98, 1456.18, 30.05, 580.0, 0.0, 316.0, 451.0], [28.83, 80.02, 149.14, 197.7, 662.6, 662.66, 662.66, 125.07, 30.05, 219.0, 0.0, 333.0, 75.0]]
                };

                var frameworks = [
                    'aiohttp',
                    'bottle',
                    'django',
                    'falcon',
                    'flask',
                    'muffin',
                    'pyramid',
                    'tornado',
                ],
                    categories = ["min", "50%", "75%", "90%", "99.9%", "max"],
                    series = [],
                    common_options = {
                        xAxis: {
                            categories: categories,
                            startOnTick: true
                        },
                        yAxis: {
                            title: { text: 'Values (ms)' },
                            min: 0
                        },
                        tooltip: {
                            valueSuffix: 'ms'
                        },
                        legend: {
                            layout: 'vertical',
                            align: 'right',
                            verticalAlign: 'middle',
                            borderWidth: 0
                        },
                        chart: {
                            zoomType: 'y',
                            type: 'spline'
                        }
                    };

                for (i in [0, 1, 2]) {
                    var cur = series[i] = [], pie = {
                        name: 'mid', type: 'pie', dataLabels: { enabled: true, format: '{point.name} {point.y:.2f} ms'},
                        data: [], center: [100, 80], size: 100};

                    for (n in data) {
                        if (data[n][i] instanceof Array) {
                            pie.data.push({name: n, y: data[n][i][2]})
                            cur.push({
                                name: n,
                                data: data[n][i].slice(0, 4)
                            });
                        }
                    };
                    cur.push(pie);
                };

                $('#json').highcharts($.extend({
                    title: { text: 'Encode a object to JSON and return as response' },
                    subtitle: { text: 'lower is better' },
                    series: series[0]}, common_options));

                $('#remote').highcharts($.extend({
                    title: { text: 'Load a response from remote server and return as response' },
                    subtitle: { text: 'lower is better' },
                    series: series[1]}, common_options));

                $('#complete').highcharts($.extend({
                    title: { text: 'Load data from database with ORM and render to template' },
                    subtitle: { text: 'lower is better' },
                    series: series[2]}, common_options));

                $('table').bootgrid({ navigation: 0 });

            });
        </script>
  </body>
</html>

